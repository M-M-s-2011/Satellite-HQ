[{"/Users/gracie/Documents/Senior/Satellite-HQ/src/index.js":"1","/Users/gracie/Documents/Senior/Satellite-HQ/src/App.js":"2","/Users/gracie/Documents/Senior/Satellite-HQ/src/game/index.js":"3","/Users/gracie/Documents/Senior/Satellite-HQ/src/game/Game.js":"4","/Users/gracie/Documents/Senior/Satellite-HQ/src/components/ChatLobby.js":"5"},{"size":197,"mtime":1612103975121,"results":"6","hashOfConfig":"7"},{"size":1133,"mtime":1612104661750,"results":"8","hashOfConfig":"7"},{"size":31,"mtime":1612101908874,"results":"9","hashOfConfig":"7"},{"size":8053,"mtime":1612101908872,"results":"10","hashOfConfig":"7"},{"size":6966,"mtime":1612104582976,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1ws5cmi",{"filePath":"15","messages":"16","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/gracie/Documents/Senior/Satellite-HQ/src/index.js",[],["24","25"],"/Users/gracie/Documents/Senior/Satellite-HQ/src/App.js",["26","27"],"/Users/gracie/Documents/Senior/Satellite-HQ/src/game/index.js",[],"/Users/gracie/Documents/Senior/Satellite-HQ/src/game/Game.js",["28"],"import React from \"react\";\nimport Phaser from \"phaser\";\nimport io from \"socket.io-client\";\n\nexport class Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.game = null;\n    this.spaceId = props.spaceId;\n    console.log(this.spaceId);\n\n    this.gameInit = this.gameInit.bind(this);\n    this.preload = this.preload.bind(this);\n    this.update = this.update.bind(this);\n    this.create = this.create.bind(this);\n    this.addPlayer = this.addPlayer.bind(this);\n    this.addOtherPlayers = this.addOtherPlayers.bind(this);\n\n    this.map = null;\n    this.cursors = null;\n    this.debugGraphics = null;\n    this.helpText = null;\n    this.player = null;\n    this.showDebug = false;\n    this.currentTileset = 1;\n  }\n\n  gameInit() {\n    var config = {\n      type: Phaser.WEBGL,\n      width: \"100%\",\n      height: \"100%\",\n      backgroundColor: \"#2d2d2d\",\n      parent: \"phaser\",\n      pixelArt: true,\n      physics: {\n        default: \"arcade\",\n        arcade: { gravity: { y: 0 } },\n      },\n      scene: {\n        // Gets called by Phaser after init(). It is used to load assets\n        preload: this.preload(),\n        // Gets called by Phaser after init() and preload(). It is used to create your game objects\n        create: this.create(),\n        // Gets called by Phaser on each step or frame in the game\n        update: this.update(),\n      },\n    };\n\n    this.game = new Phaser.Game(config);\n  }\n\n  preload() {\n    // We store the Component's this to access it in the scene\n    const self = this;\n    return function () {\n      this.load.image(\"tiles\", \"/assets/catastrophi_tiles_16.png\");\n      this.load.image(\"tiles_red\", \"/assets/catastrophi_tiles_16_red.png\");\n      this.load.image(\"tiles_blue\", \"/assets/catastrophi_tiles_16_blue.png\");\n      this.load.tilemapCSV(\"map\", \"/assets/catastrophi_level2.csv\");\n      this.load.spritesheet(\"player\", \"/assets/spaceman.png\", {\n        frameWidth: 16,\n        frameHeight: 16,\n      });\n      this.load.spritesheet(\"player2\", \"/assets/spaceman.png\", {\n        frameWidth: 16,\n        frameHeight: 16,\n      });\n    };\n  }\n\n  addPlayer(scene, player, layer) {\n    this.player = scene.physics.add\n      .sprite(player.x, player.y, \"player\", 1)\n      .setScale(2);\n    this.player.setSize(10, 10, false);\n    scene.cameras.main.startFollow(this.player);\n    scene.physics.add.collider(this.player, layer);\n  }\n\n  addOtherPlayers(scene, player, layer) {\n    const newPlayer = scene.physics.add\n      .sprite(player.x, player.y, \"player\", 1)\n      .setScale(2);\n    newPlayer.setSize(10, 10, false);\n    scene.physics.add.collider(newPlayer, layer);\n    newPlayer.playerId = player.playerId;\n    scene.otherPlayers.add(newPlayer);\n  }\n\n  create() {\n    const self = this;\n    return function (data) {\n      function updateHelpText() {\n        self.helpText.setText(\n          \"WASD keys to move.\" +\n            \"\\nPress 1/2/3 to change the tileset texture.\" +\n            \"\\nCurrent texture: \" +\n            self.currentTileset\n        );\n      }\n\n      function drawDebug() {\n        self.debugGraphics.clear();\n\n        if (self.showDebug) {\n          // Pass in null for any of the style options to disable drawing that component\n          self.map.renderDebug(self.debugGraphics, {\n            tileColor: null, // Non-colliding tiles\n            collidingTileColor: new Phaser.Display.Color(243, 134, 48, 200), // Colliding tiles\n            faceColor: new Phaser.Display.Color(40, 39, 37, 255), // Colliding face edges\n          });\n        }\n\n        updateHelpText();\n      }\n\n      // When loading a CSV map, make sure to specify the tileWidth and tileHeight\n      self.map = this.make.tilemap({\n        key: \"map\",\n        tileWidth: 16,\n        tileHeight: 16,\n      });\n      var tileset = self.map.addTilesetImage(\"tiles_red\");\n      var layer = self.map.createLayer(0, tileset, 0, 0);\n      layer.setScale(2);\n\n      this.otherPlayers = this.physics.add.group();\n      this.socket = io({\n        query: {\n          spaceId: self.spaceId,\n        },\n      });\n      this.socket.on(\"currentPlayers\", (players) => {\n        console.log(players);\n        Object.keys(players).forEach((id) => {\n          if (players[id].playerId === this.socket.id) {\n            self.addPlayer(this, players[id], layer);\n          } else {\n            self.addOtherPlayers(this, players[id], layer);\n          }\n        });\n      });\n      this.socket.on(\"newPlayer\", (playerInfo) => {\n        self.addOtherPlayers(this, playerInfo, layer);\n      });\n      this.socket.on(\"userDisconnected\", (playerId) => {\n        this.otherPlayers.getChildren().forEach((otherPlayer) => {\n          if (playerId === otherPlayer.playerId) {\n            otherPlayer.destroy();\n          }\n        });\n      });\n      this.socket.on(\"playerMoved\", (playerInfo) => {\n        this.otherPlayers.getChildren().forEach((otherPlayer) => {\n          if (playerInfo.playerId === otherPlayer.playerId) {\n            otherPlayer.setRotation(playerInfo.rotation);\n            otherPlayer.setPosition(playerInfo.x, playerInfo.y);\n          }\n        });\n      });\n\n      //  This isn't totally accurate, but it'll do for now\n      self.map.setCollisionBetween(54, 83);\n\n      this.input.keyboard.on(\n        \"keydown-ONE\",\n        function (event) {\n          var texture = this.sys.textures.get(\"tiles_red\");\n          self.currentTileset = 1;\n          tileset.setImage(texture);\n          updateHelpText();\n        },\n        this\n      );\n\n      this.input.keyboard.on(\n        \"keydown-TWO\",\n        function (event) {\n          var texture = this.sys.textures.get(\"tiles_blue\");\n          self.currentTileset = 2;\n          tileset.setImage(texture);\n          updateHelpText();\n        },\n        this\n      );\n\n      this.input.keyboard.on(\n        \"keydown-THREE\",\n        function (event) {\n          var texture = this.sys.textures.get(\"tiles\");\n          self.currentTileset = 3;\n          tileset.setImage(texture);\n          updateHelpText();\n        },\n        this\n      );\n\n      this.cameras.main.setBounds(\n        0,\n        0,\n        self.map.widthInPixels,\n        self.map.heightInPixels\n      );\n\n      self.debugGraphics = this.add.graphics();\n\n      this.input.keyboard.on(\"down_67\", function (event) {\n        self.showDebug = !self.showDebug;\n        drawDebug();\n      });\n\n      self.cursors = this.input.keyboard.addKeys({\n        up: Phaser.Input.Keyboard.KeyCodes.W,\n        down: Phaser.Input.Keyboard.KeyCodes.S,\n        left: Phaser.Input.Keyboard.KeyCodes.A,\n        right: Phaser.Input.Keyboard.KeyCodes.D,\n      });\n\n      self.helpText = this.add.text(16, 16, \"\", {\n        fontSize: \"20px\",\n        fill: \"#ffffff\",\n      });\n      self.helpText.setScrollFactor(0);\n      updateHelpText();\n    };\n  }\n\n  update() {\n    const self = this;\n    return function (time, delta) {\n      const updatePlayer = () => {\n        self.player.body.setVelocity(0);\n\n        // Horizontal movement\n        if (self.cursors.left.isDown) {\n          self.player.body.setVelocityX(-200);\n        } else if (self.cursors.right.isDown) {\n          self.player.body.setVelocityX(200);\n        }\n        // Vertical movement\n        if (self.cursors.up.isDown) {\n          self.player.body.setVelocityY(-200);\n        } else if (self.cursors.down.isDown) {\n          self.player.body.setVelocityY(200);\n        }\n\n        // Emit our position to the socket.io server\n        const { x, y } = self.player;\n        if (self.player.oldPosition) {\n          if (\n            x !== self.player.oldPosition.x ||\n            y !== self.player.oldPosition.y\n          ) {\n            this.socket.emit(\"playerMovement\", {\n              x,\n              y,\n            });\n          }\n        }\n        self.player.oldPosition = {\n          x,\n          y,\n        };\n      };\n\n      self.player && updatePlayer();\n    };\n  }\n\n  componentDidMount() {\n    this.gameInit();\n  }\n\n  componentDidUpdate(prevState, prevProps) {}\n\n  render() {\n    // Phaser target element\n    return <div id=\"phaser\"></div>;\n  }\n}\n","/Users/gracie/Documents/Senior/Satellite-HQ/src/components/ChatLobby.js",[],{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","severity":1,"message":"34","line":2,"column":8,"nodeType":"35","messageId":"36","endLine":2,"endColumn":14},{"ruleId":"33","severity":1,"message":"37","line":12,"column":8,"nodeType":"35","messageId":"36","endLine":12,"endColumn":13},{"ruleId":"33","severity":1,"message":"38","line":55,"column":11,"nodeType":"35","messageId":"36","endLine":55,"endColumn":15},"no-native-reassign",["39"],"no-negated-in-lhs",["40"],"no-unused-vars","'Phaser' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","'self' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]